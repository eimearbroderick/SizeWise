<html> 
    <head> 
        <link rel="stylesheet" href = "{{ url_for ('static', filename='profile.css') }}">
        <link href='https://fonts.googleapis.com/css?family=Josefin+Slab'>
        <link rel='stylesheet' href = "{{ url_for ('static', filename='index.css') }}">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    </head>

     <!-- bootstrap navbar from https://getbootstrap.com/docs/4.0/components/navbar/--> 
     <nav class="navbar fixed-top navbar-dark bg-dark">
      <span class="navbar-brand mb-0 h1">SizeWise</span>
        <form class="form-inline">
          <button class="btn btn-dark" type="button"><a href="{{ url_for('home') }}"> Home</a></button>               
          <button class="btn btn-dark" type="button"><a href="{{ url_for('logout') }}"> Logout</a></button>
          <button class="btn btn-dark" type="button"><a href="{{ url_for('profile') }}"> My Account</a></button>
        </form>
  </nav> 
</br>
</br> 
</br>
</br>

<div class="container">
    <div class="row">
          <div class="col-xs-12 col-sm-9">
            
            <!-- User profile bootstap from https://www.bootdey.com/snippets/view/Seller-profile#css-->
            <div class="panel panel-default">
              <div class="panel-heading">
              <h4 class="panel-title">My Account</h4>
              </div>
              <div class="panel-body">
                <div class="profile__avatar">
                  <img src="https://img.favpng.com/2/12/12/computer-icons-portable-network-graphics-user-profile-avatar-png-favpng-L1ihcbxsHbnBKBvjjfBMFGbb7.jpg" alt="user1">
                </div>
                <div class="profile__header">
                  <h4>{{account['username']}}</h4>
                  <p class="text-muted">
                    Your SizeWise Profile 
                  </p>
                </div>
              </div>
            </div>
    
            <!-- User info, Python integration taken from @venniladeenan at https://www.geeksforgeeks.org/profile-application-using-python-flask-and-mysql/-->
            <div class="panel panel-default">
              <div class="panel-heading">
              <h4 class="panel-title">User info</h4>
              </div>
              {% block content %} 
              <div class="panel-body">
                <table class="table profile__table">
                  <tbody>
                    <tr>
                      <th><strong>Username:</strong></th>
                      <td>{{account['username']}}</td>
                    </tr>
                    <tr>
                      <th><strong>Email Address</strong></th>
                      <td>{{account['email']}}</td>
                    </tr>
                    <tr>
                        <th><strong>First Name</strong></th>
                        <td>{{account['first_name']}}</td>
                      </tr>
                      <tr>
                        <th><strong>Last Name</strong></th>
                        <td>{{account['last_name']}}</td>
                      </tr>
                    <tr>
                        <th><strong>Age</strong></th>
                        <td>{{account['age']}}</td>
                      </tr>
                    <tr>
                      <th><strong>Height</strong></th>
                      <td>{{account['height']}}</td>
                    </tr>
                    <tr>
                        <th><strong>Weight</strong></th>
                        <td>{{account['weight']}}</td>
                    <tr>
                     <th><strong>Average Size</strong></th>
                     <td>{{account['avgsize']}}</td>
                     </tr>
                  </tbody>
                </table>
              </div>
              {% endblock %} 
            </div>
    
            <!-- Community -->
            <div class="panel panel-default">
              <div class="panel-heading">
              <h4 class="panel-title">Community</h4>
              </div>
              <div class="panel-body">
                <table class="table profile__table">
                  <tbody>
                    <tr>
                      <th><strong>Comments</strong></th>
                      <td>58</td>
                    </tr>
                    <tr>
                      <th><strong>Member since</strong></th>
                      <td>Jan 01, 2016</td>
                    </tr>
                    <tr>
                      <th><strong>Top Brand</strong></th>
                      <td>Nike</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <a href="{{ url_for('userreviews') }}" class="profile__contact-btn btn btn-lg btn-block btn-info" >
               My Reviews
            </a>

            <div class="divuserreviews"> 
              <!--Code help from Andrea Visentin-->
                <div class="container bootstrap snippets bootdey">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="main-box no-header clearfix">
                                <div class="main-box-body clearfix">
                                    <div class="table-responsive">
                                        <table class="table user-list">
                                           <thead>
                                                <tr>
                                                <th><span>ReviewID</span></th>
                                                <th><span>Store</span></th>
                                                <th><span>Size</span></th>
                                                <th class="text-center"><span>Rating</span></th>
                                                <th><span>Product</span></th>
                                                <th><span>Review</span></th>
                                                <th>&nbsp;</th>
                                                </tr>
                                                {% if review|length > 0 %}
                                                <!--i is the index, rev contains the row -->
                                                {% for i, rev in review.iterrows()  %}
                                                    <!-- </thead> --> 
                                                    <!-- <tbody> -->
                                                <tr>
                                                    <td>
                                                        {{rev["reviewID"]}}
                                                        
                                                    </td>
                                                    <td>{{rev["store"]}}</td>
                                                    <td>{{rev["size"]}}</td>
                                                    <td class="text-center">
                                                        <span class="label label-default">{{rev["rating"]}}</span>
                                                    </td>
                                                    <td>{{rev["product"]}}</td>
                                                    <td>
                                                        {{rev["review"]}}
                                                    </td>
                                                </tr>
                                          
                                            </tr> 
                                            {% endfor %}
                              {% endif %}
                                       </tbody>  
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
          </div> 
        </div>
           
           <!---
           
              <table> 
              <tr>
                <th>Store</th>
                <th>Size</th>
                <th>Review</th>
              </tr>
                {% if review|length > 0 %}
                <!--i is the index, rev contains the row
                      {% for i, rev in review.iterrows()  %}
                      <tr>

                      <td>{{rev["store"]}}</td>
                      <td>{{rev["size"]}}</td>
                      <td>{{rev["review"]}}</td>
                    </tr>  

                      {% endfor %}
                {% endif %}

            </table> 
          </div> -->
    
            <!-- Latest posts 
            <div class="panel panel-default">
              <div class="panel-heading">
              <h4 class="panel-title">Latest Reviews</h4>
              </div>
              <div class="panel-body">
                <div class="profile__comments">
                  <div class="profile-comments__item">
                    <div class="profile-comments__controls">
                      <a href="#"><i class="fa fa-share-square-o"></i></a>
                      <a href="#"><i class="fa fa-edit"></i></a>
                      <a href="#"><i class="fa fa-trash-o"></i></a>
                    </div>
                    <div class="profile-comments__avatar">
                      <img src="https://img.favpng.com/2/12/12/computer-icons-portable-network-graphics-user-profile-avatar-png-favpng-L1ihcbxsHbnBKBvjjfBMFGbb7.jpg" alt="...">
                    </div>
                    <div class="profile-comments__body">
                      <h5 class="profile-comments__sender">
                        {{account['username']}} <small>2 hours ago</small>
                      </h5>
                      <div class="profile-comments__content">
                        Purchased a pair of jeans in a size 32 leg and they were too short! If you are of similar height I would recommend going longer from this brand. 
                      </div>
                    </div>
                  </div>
                  <div class="profile-comments__item">
                    <div class="profile-comments__controls">
                      <a href="#"><i class="fa fa-share-square-o"></i></a>
                      <a href="#"><i class="fa fa-edit"></i></a>
                      <a href="#"><i class="fa fa-trash-o"></i></a>
                    </div>
                    <div class="profile-comments__avatar">
                      <img src="https://img.favpng.com/2/12/12/computer-icons-portable-network-graphics-user-profile-avatar-png-favpng-L1ihcbxsHbnBKBvjjfBMFGbb7.jpg" alt="..." >
                    </div>
                    <div class="profile-comments__body">
                      <h5 class="profile-comments__sender">
                        {{account['username']}} <small>5 hours ago</small>
                      </h5>
                      <div class="profile-comments__content">
                        {% for row in showreviews %} 
                        
                        {{showreviews}}
                            
                    {% endfor %}
                      </div>
                    </div>
                  </div>
                  <div class="profile-comments__item">
                    <div class="profile-comments__controls">
                      <a href="#"><i class="fa fa-share-square-o"></i></a>
                      <a href="#"><i class="fa fa-edit"></i></a>
                      <a href="#"><i class="fa fa-trash-o"></i></a>
                    </div>
                    <div class="profile-comments__avatar">
                      <img src="https://img.favpng.com/2/12/12/computer-icons-portable-network-graphics-user-profile-avatar-png-favpng-L1ihcbxsHbnBKBvjjfBMFGbb7.jpg" alt="...">
                    </div>
                    <div class="profile-comments__body">
                      <h5 class="profile-comments__sender">
                        {{account['username']}} <small>3 days ago</small>
                      </h5>
                      <div class="profile-comments__content">
                        {% for row in showreviews %} 
                        
                            {{row[1]}}
                            
                    {% endfor %}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
    
          </div>

        -->
          
      </br> 
        <div class="col-xs-12 col-sm-3">
            
            <!-- Contact user -->
            <p>
              <a href="{{ url_for('edit') }}" class="profile__contact-btn btn btn-lg btn-block btn-info" data-toggle="modal" data-target="#profile__contact-form">
                Edit User
              </a>
            </p>
    
            <hr class="profile__contact-hr">
            
            <!-- Contact info -->
            <div class="profile__contact-info">
              <div class="profile__contact-info-item">
                <div class="profile__contact-info-icon">
                  <i class="fa fa-phone"></i>
                </div>
                <div class="profile__contact-info-body">
                  <h5 class="profile__contact-info-heading">Country</h5>
                  Ireland
                </div>
              </div>
              <div class="profile__contact-info-item">
                <div class="profile__contact-info-icon">
                  <i class="fa fa-phone"></i>
                </div>
                <div class="profile__contact-info-body">
                  <h5 class="profile__contact-info-heading">Mobile number</h5>
                  (000)987-65-43
                </div>
              </div>
              <div class="profile__contact-info-item">
                <div class="profile__contact-info-icon">
                  <i class="fa fa-envelope-square"></i>
                </div>
                <div class="profile__contact-info-body">
                  <h5 class="profile__contact-info-heading">E-mail address</h5>
                  <a href="mailto:admin@domain.com"> {{account['email']}}</a>
                </div>
              </div>
            <!--    <div class="profile__contact-info-item">
                <div class="profile__contact-info-icon">
                  <i class="fa fa-map-marker"></i>
                </div>
              <div class="profile__contact-info-body">
                  <h5 class="profile__contact-info-heading">Work address</h5>
                  Lorem ipsum dolor sit amet, consectetur adipisicing elit.
                </div>
              </div> -->
            </div>
    
          </div>
        </div>
    </div>

</html>